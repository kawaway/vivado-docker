version: '3'
services:
  core:
    build:
      context: .
      args:
        # please edit VIVADO_TAR_HOST=HOST:PORT
        - VIVADO_TAR_HOST=172.18.0.1:80
        - VIVADO_TAR_FILE=Xilinx_Vivado_SDK_2018.1_0405_1
        - VIVADO_VERSION=2018.1
    tty: true
    stdin_open: true
    environment:
      - DISPLAY=$DISPLAY
    # for debug vivado
    cap_add:
      - ALL
    volumes:
      - datastore:/home/vivado/workspace
      - /tmp/.X11-unix:/tmp/.X11-unix
    entrypoint:
      /bin/entrypoint

volumes:
  datastore:
